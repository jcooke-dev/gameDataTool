<Window x:Class="WpfSampleGameDataToolGUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfSampleGameDataToolGUI"
        mc:Ignorable="d"
        
        Title="WpfSampleGameDataTool"
        WindowState="Maximized"
        
        
        Initialized="Window_Initialized"
        StateChanged="Window_StateChanged"
        SizeChanged="Window_SizeChanged"
        LocationChanged="Window_LocationChanged"
        Closing="Window_Closing"
        Height="1000" Width="1250"
        MinHeight="1000" MinWidth="1250">
    
        <Grid x:Name="gridMain" Background="#FF272727">
            
        <Grid.Effect>
            <BlurEffect x:Name="blurGrid" Radius="0"/>
        </Grid.Effect>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="650" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <GroupBox Grid.Column="0" Grid.Row="0" HorizontalAlignment="Left" Width="630" VerticalAlignment="Stretch" Height="Auto" Header="Working Data Package:" Margin="10" Padding="10" BorderBrush="#FFFFF500" Foreground="#FFFFF500" FontSize="14" Background="#FF383838">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="35" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="35" />
                    <RowDefinition Height="35" />
                    <RowDefinition Height="35" />
                    <RowDefinition Height="35" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="35" />
                    <RowDefinition Height="35" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                
                <Grid Grid.Row="0">
                        <Label Content="Remove all assets from the working package (listed below): " HorizontalAlignment="Left" Height="31" Margin="8,2,8,2" VerticalAlignment="Center" Width="419" Foreground="#FFFFF500" FontSize="14"/>
                        <Button x:Name="btnClearPackage" Content="Clear Package" Click="btnClearPackage_Click" HorizontalAlignment="Right" Margin="8,2,8,2" VerticalAlignment="Center" Width="175" FontSize="14" Background="#FFFFB3B3"/>
                    </Grid>

                <Rectangle Grid.Row="1" Height="2" Stroke="#FFFFF500" Fill="#FFFFF500" Margin="11,9,8,9" HorizontalAlignment="Stretch" VerticalAlignment="Center"/>

                <Grid Grid.Row="2">
                        <Label Content="Add all assets from an existing Packaged Data file (*.pkd):" HorizontalAlignment="Left" Height="31" Margin="8,2,8,2" VerticalAlignment="Center" Width="391" Foreground="#FFFFF500" FontSize="14"/>
                        <Button x:Name="btnAddFromPKD" Content="Add Assets from PKD File" Click="btnAddFromPKD_Click" HorizontalAlignment="Right" Margin="8,2,8,2" VerticalAlignment="Center" Width="175" FontSize="14"/>
                    </Grid>

                <Grid Grid.Row="3">
                        <Label Content="OR add all assets from your recent Packaged Data files (*.pkd):" HorizontalAlignment="Left" Height="31" Margin="8,2,8,2" VerticalAlignment="Center" Width="583" Foreground="#FFFFF500" FontSize="14"/>
                        <ComboBox x:Name="cmbRecentPKDs" SelectionChanged="cmbRecentPKDs_SelectionChanged" HorizontalAlignment="Left" Height="27" Margin="10,5,8,5" VerticalAlignment="Center" Width="598"  FontSize="14"/>
                    </Grid>

                <Grid Grid.Row="4">
                        <Label Content="OR select a folder containing asset files to add to this package:" HorizontalAlignment="Left" Height="31" Margin="8,2,8,2" VerticalAlignment="Center" Width="418" Foreground="#FFFFF500" FontSize="14"/>
                        <Button x:Name="btnAddFromFolder" Content="Add from Folder" Click="btnAddFromFolder_Click" HorizontalAlignment="Right" Margin="8,2,8,2" VerticalAlignment="Center" Width="175" FontSize="14"/>
                    </Grid>

                <Grid Grid.Row="5">
                        <Label Content="OR add an asset file to this package:" HorizontalAlignment="Left" Height="31" Margin="8,2,8,2" VerticalAlignment="Center" Width="252" Foreground="#FFFFF500" FontSize="14"/>
                        <Button x:Name="btnAddFile" Content="Add File" Click="btnAddFile_Click" HorizontalAlignment="Right" Margin="8,2,8,2" VerticalAlignment="Center" Width="175" FontSize="14"/>
                    </Grid>

                <Rectangle Grid.Row="6" Height="2" Stroke="#FFFFF500" Fill="#FFFFF500" Margin="11,9,8,9" HorizontalAlignment="Stretch" VerticalAlignment="Center"/>

                <Grid Grid.Row="7">
                        <Label Content="Generate the Packaged Data File from this working set of assets:" HorizontalAlignment="Left" Height="31" Margin="8,2,8,2" VerticalAlignment="Center" Width="444" Foreground="#FFFFF500" FontSize="14"/>
                        <Button x:Name="btnGeneratePKD" Content="Generate PKD File" Click="btnGeneratePKD_Click" HorizontalAlignment="Right" Margin="8,2,8,2" VerticalAlignment="Center" Width="175" FontSize="14" Background="#FFB2FFA3"/>
                    </Grid>

                <Grid Grid.Row="8">
                    <Popup x:Name="popMessage" PlacementTarget="{Binding ElementName=gridMain}" Placement="Center" >
                        <Border BorderBrush="Black" BorderThickness="2" >
                            <Label x:Name="lblPopMsg" HorizontalAlignment="Center" VerticalAlignment="Center" Width="400" Height="125"
                                   Background="#333333" Foreground="#FFFFF500" FontSize="18"
                                   HorizontalContentAlignment="Center" VerticalContentAlignment="Center" ></Label>
                        </Border>
                    </Popup>
                    <Label Content="OR extract asset files from this package to this folder:" HorizontalAlignment="Left" Height="31" Margin="8,2,8,2" VerticalAlignment="Center" Width="418" Foreground="#FFFFF500" FontSize="14"/>
                    <Button x:Name="btnExtractFromPKD" Click="btnExtractFromPKD_Click" Content="Extract into Folder" HorizontalAlignment="Right" Margin="8,2,8,2" VerticalAlignment="Center" Width="175" FontSize="14"/>
                </Grid>

                <Grid Grid.Row="9">
                                        
                    <ListBox x:Name="lbAssets" ItemsSource="{Binding}" SelectionChanged="lbAssets_ItemSelected"
                            HorizontalAlignment="Stretch" Width="Auto" 
                             VerticalAlignment="Stretch" Height="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto"
                             MinHeight="600" Margin="8,4,8,2" Background="#FF4A4A4A" Foreground="#FF5CFF45" FontSize="14" FontFamily="Courier New">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock>
                                    <TextBlock.Text>
                                        <MultiBinding StringFormat="{}{0}&#09;| {1}{2}">
                                            <Binding Path="atAssetType" />
                                            <Binding Path="strName" />
                                            <Binding Path="strExtension" />
                                        </MultiBinding>
                                    </TextBlock.Text>
                                </TextBlock>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>

                </Grid>
            </Grid>

        </GroupBox>

            <GroupBox Grid.Column="1" Grid.Row="0" HorizontalAlignment="Stretch" Width="Auto" VerticalAlignment="Stretch" Height="Auto" Header="Asset Details" Margin="10" Padding="10" BorderBrush="#FFFFF500" Foreground="#FFFFF500" FontSize="14">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="150" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="lblAssetsHeader" Grid.Row="0" Grid.Column="0" Text="" HorizontalAlignment="Left" Width="Auto" VerticalAlignment="Top" Height="Auto" Margin="25,25,25,25"  
                    Foreground="#FF5CFF45" FontSize="16" />
                <TextBlock x:Name="lblAssetDetails" Grid.Row="0" Grid.Column="1" Text="" HorizontalAlignment="Left" Width="Auto" VerticalAlignment="Top" Height="Auto" Margin="25,25,25,25"  
                    Foreground="#FF5CFF45" FontSize="16" TextWrapping="Wrap" />

                <Label x:Name="lblNonImage" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Content="Not displaying this non-IMAGE asset file." HorizontalAlignment="Center" Margin="25" VerticalAlignment="Top" Width="Auto" Height="Auto" FontSize="16" Foreground="#FFFFF500"/>
                <Image x:Name="imgView1" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Margin="10" VerticalAlignment="Stretch" Height="Auto" HorizontalAlignment="Stretch" Width="Auto"
                        />

            </Grid>

        </GroupBox>
            

        </Grid>
    
</Window>
